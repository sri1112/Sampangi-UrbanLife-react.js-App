(function(g){var window=this;'use strict';var jo=function(f){f.publish("cardstatechange",f.Wb()&&f.zA()?1:0)},Ko=function(f,I){var G=g.fU(I),c=G?I:arguments;
for(G=G?0:1;G<c.length;G++){if(f==null)return;f=f[c[G]]}return f},eSL=function(f){var I=g.MC(f);
f=g.ZY(f);return new g.Br(I.x,I.y,f.width,f.height)},t4w=function(f,I,G){var c=c===void 0?{}:c;
var P;return P=g.jW(f,I,function(){g.Kt(P);G.apply(f,arguments)},c)},zy=function(f){f=g.cw(f);
delete JJ[f];g.QL(JJ)&&US&&US.stop()},NgJ=function(){US||(US=new g.b9(function(){OR2()},20));
var f=US;f.isActive()||f.start()},OR2=function(){var f=g.tL();
g.vw(JJ,function(I){HR$(I,f)});
g.QL(JJ)||NgJ()},hJ=function(f,I,G,c){g.ax.call(this);
if(!Array.isArray(f)||!Array.isArray(I))throw Error("Start and end parameters must be arrays");if(f.length!=I.length)throw Error("Start and end points must be the same length");this.W=f;this.Y=I;this.duration=G;this.B=c;this.coords=[];this.progress=this.J=0;this.G=null},HR$=function(f,I){I<f.startTime&&(f.endTime=I+f.endTime-f.startTime,f.startTime=I);
f.progress=(I-f.startTime)/(f.endTime-f.startTime);f.progress>1&&(f.progress=1);f.J=1E3/(I-f.G);f.G=I;xP7(f,f.progress);f.progress==1?(f.U=0,zy(f),f.onFinish(),f.w5()):f.isPlaying()&&f.f4()},xP7=function(f,I){typeof f.B==="function"&&(I=f.B(I));
f.coords=Array(f.W.length);for(var G=0;G<f.W.length;G++)f.coords[G]=(f.Y[G]-f.W[G])*I+f.W[G]},iRw=function(f,I){g.Qa.call(this,f);
this.coords=I.coords;this.x=I.coords[0];this.y=I.coords[1];this.z=I.coords[2];this.duration=I.duration;this.progress=I.progress;this.fps=I.J;this.state=I.U},MZ=function(f,I,G,c,P){hJ.call(this,I,G,c,P);
this.element=f},SB7=function(f,I,G,c,P){if(I.length!=2||G.length!=2)throw Error("Start and end points must be 2D");
MZ.call(this,f,I,G,c,P)},uAU=function(f){return Math.pow(f,3)},a7U=function(f){return 3*f*f-2*f*f*f},kP$=function(f){g.V.call(this);
this.W=f||window;this.U=[]},Di=function(f){return f.baseUrl||null},FL=function(f,I){return g.gZ(g.Cx(f,I),function(G){return!!G})},l7$=function(f,I,G){function c(Pp){var fY=Pp.hovercardButton;
if(!fY)return null;fY=fY.subscribeButtonRenderer;if(!fY)return null;var eM=p(fY.unsubscribedButtonText),C=p(fY.subscribedButtonText);if(fY.subscribed){var kd=p(fY.subscriberCountWithUnsubscribeText);var qv=p(fY.subscriberCountText)}else kd=p(fY.subscriberCountText),qv=p(fY.subscriberCountWithSubscribeText);var FB=null;if(Pp.signinEndpoint){FB=Ko(Pp,"signinEndpoint","webNavigationEndpointData","url");if(!FB){var Y7,OJ;FB=(OJ=g.d((Y7=fY.signInEndpoint)==null?void 0:Y7.commandMetadata,g.Bt))==null?void 0:
OJ.url}if(!FB)return null}return eM&&(C||FB)?{subscribed:fY.subscribed,subscribeText:eM,subscribeCount:kd,unsubscribeText:C,unsubscribeCount:qv,enabled:fY.enabled,signinUrl:FB,classic:Pp.useClassicSubscribeButton}:null}
function P(Pp){if(Pp){var fY=[],eM=Pp.videoId;eM&&fY.push("v="+eM);(eM=Pp.playlistId)&&fY.push("list="+eM);(Pp=Pp.startTimeSeconds)&&fY.push("t="+Pp);return"/watch?"+fY.join("&")}}
function p(Pp){if(!Pp)return null;var fY=Pp.simpleText;return fY?fY:Pp.runs?g.Cx(Pp.runs,function(eM){return eM.text}).join(""):null}
I=I.endscreenElementRenderer;if(!I)return null;var e=I.style,O=I.endpoint||{},N=null,H=null,x=!1,S=null,u=null,a=null,k=null,B=!1,L=null,K=null,q=null,h=null,F=null,v=null;if(e==="VIDEO")g.d(O,g.Tg)?N=g.d(O,g.Tg).url:(v=g.d(O,g.PY),N=P(v)),H=!1,S=f,I.thumbnailOverlays?(x=I.thumbnailOverlays[0].thumbnailOverlayTimeStatusRenderer,u=p(x.text),x=x.style==="LIVE"):u=p(I.videoDuration);else if(e==="PLAYLIST")g.d(O,g.Tg)?N=g.d(O,g.Tg).url:(v=g.d(O,g.PY),N=P(v)),H=!1,S=f,a=p(I.playlistLength);else if(e===
"CHANNEL"){if(B=Ko(O,"browseEndpoint","browseId"))k=B,N="/channel/"+k;H=!1;S="new";(B=!!I.isSubscribe)?L=c(I):K=p(I.subscribersText)}else e==="WEBSITE"?((q=Ko(O,"urlEndpoint","url"))&&(N=q),H=!0,S="new",q=I.icon.thumbnails[0].url):e==="CREATOR_MERCHANDISE"&&(I.productPrice&&(h=p(I.productPrice)),I.additionalFeesText&&(F=p(I.additionalFeesText)),(H=Ko(O,"urlEndpoint","url"))&&(N=H),H=!0,S="new");f=Ko(I,"title","accessibility","accessibilityData","label");var E=I.endpoint?I.endpoint.clickTrackingParams:
null,n="";if(I.metadata){var GT=p(I.metadata);GT&&(n=GT)}return{id:"element-"+G,type:e,title:p(I.title),metadata:n,callToAction:p(I.callToAction),BD:I.image,iconUrl:q,left:Number(I.left),width:Number(I.width),top:Number(I.top),aspectRatio:Number(I.aspectRatio),startMs:Math.floor(Number(I.startMs)),endMs:Math.floor(Number(I.endMs)),videoDuration:u,rJ:x,playlistLength:a,channelId:k,subscribeButton:L,subscribersText:K,isSubscribe:B,targetUrl:N||null,tC:H,sessionData:E?{itct:E}:null,tky:S,By:f?f:null,
isPlaceholder:I.isPlaceholder,impressionUrls:FL(I.impressionUrls||[],Di),uE:FL(I.hovercardShowUrls||[],Di),clickUrls:FL(O.loggingUrls||[],Di),visualElement:g.JO(I.trackingParams),productPrice:h,additionalFeesText:F,watchEndpoint:v||null}},wcu=function(f,I){var G={startMs:Math.floor(Number(f.startMs)),
impressionUrls:FL(f.impressionUrls||[],Di),elements:FL(f.elements||[],function(c,P){return l7$(I,c,P)})};
f.trackingParams&&(G.visualElement=g.JO(f.trackingParams));return G},$P$=function(f){g.w0.call(this,f);
this.G=this.endscreen=null;this.W={};this.J={};this.B=this.Z=null;this.N=[];this.U=null;this.uH=!0;this.Y=0;f=f.X();this.T=g.vq(f)||g.yQ(f);this.events=new g.yE(this);g.r(this,this.events);this.events.C(this.player,g.iC("creatorendscreen"),this.onCueRangeEnter);this.events.C(this.player,g.Sf("creatorendscreen"),this.onCueRangeExit);this.events.C(this.player,"resize",this.gk);this.events.C(window,"focus",this.F2H);this.load();var I=g.Qh("STYLE");(g.yh("HEAD")[0]||document.body).appendChild(I);this.addOnDisposeCallback(function(){g.cr(I)});
I.sheet&&(I.sheet.insertRule(".ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAIVBMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///91E4wTAAAACXRSTlMArBbpVOtYrReN+x2FAAAAAWJLR0QKaND0VgAAACFJREFUCNdjYCAWzIQAFBaZ6hgVYLKcJnBWGEyWvYGASwCXtBf7m4i3CQAAAABJRU5ErkJggg==) no-repeat center;background-size:18px;width:18px;height:18px}",0),I.sheet.insertRule(".ytp-ce-size-853 .ytp-ce-playlist-icon, .ytp-ce-size-1280 .ytp-ce-playlist-icon, .ytp-ce-size-1920 .ytp-ce-playlist-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJ1BMVEVMaXGzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7P///9RfzIKAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAyBs1FjAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0))},YBr=function(f){return f.player.getVideoData().Y$?"current":f.T?"new":"current"},Zi=function(f){return f.player.X().playerStyle==="creator-endscreen-editor"},Bg$=function(f){var I=f.player.getVideoData(),G=I.videoId;
f.G&&f.G.abort();G={method:"POST",onFinish:function(P){var p=f.G=null;P.status===200&&(P=P.responseText,P.substring(0,3)===")]}"&&(P=P.substring(3),p=JSON.parse(P),p=wcu(p,YBr(f))));gf(f,p)},
urlParams:{v:G},withCredentials:!0};f.T&&(G.urlParams.ptype="embedded");var c=I.hK;c&&(G.postParams={ad_tracking:c});if(I=g.qy1(I))if(I=g.XU(I),I=g.Ax(I))f.G=g.Un(I,G)},gf=function(f,I,G){G=G===void 0?!0:G;
f.player.LG("creatorendscreen");f.Z&&(f.Z.dispose(),f.Z=null,f.B.dispose(),f.B=null);for(var c=g.Y(Object.values(f.W)),P=c.next();!P.done;P=c.next())P.value.dispose();f.W={};f.J={};f.N.length>0&&(f.N.forEach(function(O){O.dispose()}),f.N.length=0);
f.U&&(g.it(f.U,"ytp-ce-element-show"),f.U.setAttribute("aria-hidden","true"));f.Y=0;if((f.endscreen=I)&&I.elements){G&&LTV(f);G=[];c=new g.H_(I.startMs,0x7ffffffffffff,{id:"ytp-ce-in-endscreen",namespace:"creatorendscreen"});G.push(c);f.player.X().W||(f.Z=new g.T({V:"div",K:"ytp-ce-shadow"}),g.Vb(f.player,f.Z.element,4),f.B=new g.Nz(f.Z,200));for(c=0;c<I.elements.length;++c){P=I.elements[c];var p=WTk(f,P);if(p){f.W[P.id]=p;f.J[P.id]=P;g.Vb(f.player,p.element,4);var e=new g.H_(P.startMs,P.endMs,{id:"ytp-ce-element-"+
P.id,namespace:"creatorendscreen"});G.push(e);ozw(f,p,P)}else g.vP(new g.Ct("buildEndscreenElement null",P))}f.player.by(G);f.gk()}},LTV=function(f){var I=g.z0(),G=g.hO();
G&&I&&f.endscreen.visualElement&&g.GZ(g.bS)(void 0,G,I,f.endscreen.visualElement)},WTk=function(f,I){var G=null;
switch(I.type){case "VIDEO":f={V:"div",kM:["ytp-ce-element","ytp-ce-video"],D:{tabindex:"0","aria-label":I.By||"","aria-hidden":"true"},S:[{V:"div",K:"ytp-ce-element-shadow"},{V:"div",K:"ytp-ce-covering-image",D:R0(I)},{V:"div",K:"ytp-ce-covering-shadow-top"},{V:"a",K:"ytp-ce-covering-overlay",D:{href:Ve(f,I.targetUrl),tabindex:"-1"},S:[{V:"div",kM:["ytp-ce-video-title","ytp-webkit-ellipsis"],D:{dir:g.Yy(I.title||"")},EH:I.title},{V:"div",K:I.rJ?"ytp-ce-live-video-duration":"ytp-ce-video-duration",
EH:I.videoDuration||void 0}]}]};G=new g.T(f);break;case "PLAYLIST":f={V:"div",kM:["ytp-ce-element","ytp-ce-playlist"],D:{tabindex:"0","aria-label":I.By||"","aria-hidden":"true"},S:[{V:"div",K:"ytp-ce-element-shadow"},{V:"div",K:"ytp-ce-covering-image",D:R0(I)},{V:"div",K:"ytp-ce-covering-shadow-top"},{V:"a",K:"ytp-ce-covering-overlay",D:{href:Ve(f,I.targetUrl),tabindex:"-1"},S:[{V:"div",kM:["ytp-ce-playlist-title","ytp-webkit-ellipsis"],D:{dir:g.Yy(I.title||"")},EH:I.title},{V:"div",K:"ytp-ce-playlist-count",
S:[{V:"div",K:"ytp-ce-playlist-icon"},{V:"div",K:"ytp-ce-playlist-count-text",EH:I.playlistLength||void 0}]}]}]};G=new g.T(f);break;case "CHANNEL":G={V:"div",kM:["ytp-ce-element","ytp-ce-channel",I.isSubscribe?"ytp-ce-channel-this":"ytp-ce-channel-that"],D:{tabindex:"0","aria-label":I.By||"","aria-hidden":"true"},S:[{V:"div",K:"ytp-ce-element-shadow"},{V:"div",K:"ytp-ce-expanding-overlay",S:[{V:"div",K:"ytp-ce-expanding-overlay-hider"},{V:"div",K:"ytp-ce-expanding-overlay-background"},{V:"div",K:"ytp-ce-expanding-overlay-content",
S:[{V:"div",K:"ytp-ce-expanding-overlay-body",S:[{V:"div",K:"ytp-ce-expanding-overlay-body-padding",S:[{V:"a",kM:["ytp-ce-channel-title","ytp-ce-link"],D:{href:Ve(f,I.targetUrl),target:"_blank",tabindex:"-1",dir:g.Yy(I.title||"")},EH:I.title},I.subscribeButton?{V:"div",K:"ytp-ce-subscribe-container",S:[{V:"div",K:"ytp-ce-channel-subscribe"}]}:"",I.subscribersText?{V:"div",K:"ytp-ce-channel-subscribers-text",EH:I.subscribersText}:"",I.metadata?{V:"div",kM:["ytp-ce-channel-metadata","yt-ui-ellipsis",
"yt-ui-ellipsis-3"],EH:I.metadata}:""]}]}]}]},{V:"div",K:"ytp-ce-expanding-image",D:R0(I)}]};G=new g.T(G);var c=g.Tv(document,"div","ytp-ce-channel-subscribe",G.element)[0];if(I.subscribeButton&&I.channelId){g.Nu(c,"ytp-ce-subscribe-button");if(f.player.X().W){var P=null;var p=I.sessionData.itct}else P="endscreen",p=null;P=new g.Qw(I.subscribeButton.subscribeText,I.subscribeButton.subscribeCount,I.subscribeButton.unsubscribeText,I.subscribeButton.unsubscribeCount,!!I.subscribeButton.enabled,!!I.subscribeButton.classic,
I.channelId,!!I.subscribeButton.subscribed,P,p,f.player,!1);c.appendChild(P.element);f.N.push(P)}break;case "WEBSITE":f={V:"div",kM:["ytp-ce-element","ytp-ce-website"],D:{tabindex:"0","aria-label":I.By||"","aria-hidden":"true"},S:[{V:"div",K:"ytp-ce-element-shadow"},{V:"div",K:"ytp-ce-expanding-overlay",S:[{V:"div",K:"ytp-ce-expanding-overlay-hider"},{V:"div",K:"ytp-ce-expanding-overlay-background"},{V:"div",K:"ytp-ce-expanding-overlay-content",S:[{V:"div",K:"ytp-ce-expanding-overlay-body",S:[{V:"div",
K:"ytp-ce-expanding-overlay-body-padding",S:[{V:"div",K:"ytp-ce-website-title",D:{dir:g.Yy(I.title||"")},EH:I.title},{V:"div",K:"ytp-ce-website-metadata",EH:I.metadata},{V:"a",kM:["ytp-ce-website-goto","ytp-ce-link"],D:{href:Ve(f,I.targetUrl),target:"_blank",tabindex:"-1"},EH:I.callToAction}]}]}]}]},{V:"div",K:"ytp-ce-expanding-image",D:R0(I)},{V:"div",K:"ytp-ce-expanding-icon",D:qBL(I.iconUrl)}]};G=new g.T(f);break;case "CREATOR_MERCHANDISE":G="",I.productPrice&&(G={V:"div",K:"ytp-ce-merchandise-price-container",
S:[{V:"div",K:"ytp-ce-merchandise-price",EH:I.productPrice}]},I.additionalFeesText&&G.S.push({V:"div",K:"ytp-ce-merchandise-additional-fees",EH:I.additionalFeesText})),f={V:"div",kM:["ytp-ce-element","ytp-ce-merchandise"],D:{tabindex:"0","aria-label":I.By||"","aria-hidden":"true"},S:[{V:"div",K:"ytp-ce-element-shadow"},{V:"div",K:"ytp-ce-expanding-overlay",S:[{V:"div",K:"ytp-ce-expanding-overlay-hider"},{V:"div",K:"ytp-ce-expanding-overlay-background"},{V:"div",K:"ytp-ce-expanding-overlay-content",
S:[{V:"div",K:"ytp-ce-expanding-overlay-body",S:[{V:"div",K:"ytp-ce-expanding-overlay-body-padding",S:[{V:"div",K:"ytp-ce-merchandise-title",D:{dir:g.Yy(I.title||"")},EH:I.title},G,{V:"div",K:"ytp-ce-merchandise-metadata",EH:I.metadata},{V:"a",kM:["ytp-ce-merchandise-goto","ytp-ce-link"],D:{href:Ve(f,I.targetUrl),target:"_blank",tabindex:"-1"},EH:I.callToAction}]}]}]}]},{V:"div",K:"ytp-ce-expanding-image",D:R0(I)},{V:"div",K:"ytp-ce-merchandise-invideo-cta-container",S:[{V:"div",K:"ytp-ce-merchandise-invideo-cta",
EH:I.callToAction||void 0}]}]},G=new g.T(f)}I.isPlaceholder&&g.Nu(G.element,"ytp-ce-placeholder");return G},R0=function(f){if(f.BD)var I=f.BD.thumbnails;
return qBL(I?I[I.length-1].url:null)},qBL=function(f){return f?{style:"background-image: url("+f+")"}:{}},ozw=function(f,I,G){function c(N){N&&(I.listen("blur",function(){N.style.display!="none"&&f.uH&&N.focus()}),I.C(N,"focus",p),I.C(N,"blur",e))}
function P(N){f.Y+=N;f.Y>0?(g.Nu(I.element,"ytp-ce-force-expand"),rf(f,G.id,!0)):(g.it(I.element,"ytp-ce-force-expand"),g.it(I.element,"ytp-ce-element-hover"),rf(f,G.id,!1))}
function p(){P(1)}
function e(){P(-1)}
I.listen("mouseenter",function(){jn$(f,I,G)});
I.listen("mouseleave",function(){KTr(f,I,G)});
f.player.X().W||I.listen("click",function(){g.Nu(I.element,"ytp-ce-element-hover")});
I.listen("click",function(N){JdV(f,G,N)});
I.listen("keypress",function(N){JdV(f,G,N)});
I.listen("focus",function(){jn$(f,I,G)});
I.listen("blur",function(){KTr(f,I,G)});
I.listen("touchstart",function(){jn$(f,I,G)});
var O=g.nz("ytp-ce-expanding-overlay-hider",I.element);O&&I.C(O,"touchstart",function(N){N.stopPropagation();g.it(I.element,"ytp-ce-element-hover");g.it(I.element,"ytp-ce-force-expand")});
I.listen("keydown",function(N){f.uH=N.keyCode===9&&!N.shiftKey});
c(g.nz("ytp-sb-subscribe",I.element));c(g.nz("ytp-sb-unsubscribe",I.element));I.listen("focus",p);I.listen("blur",e)},JdV=function(f,I,G){if(I.targetUrl&&(!G||G.type!=="keypress"||G.keyCode===13)){for(var c=G.target;c&&!g.Ol(c,"ytp-ce-element");){g.Ol(c,"subscribe-label")&&UPw(f,I);
if(g.Ol(c,"ytp-ce-channel-subscribe"))return;c=c.parentElement||null}if(!c||g.Ol(c,"ytp-ce-element-hover")){G.preventDefault();G.stopPropagation();if(c=f.W[I.id])KTr(f,c,I),c.element.blur();if(G.ctrlKey||G.metaKey||I.tky==="new")UPw(f,I),f.player.sendVideoStatsEngageEvent(17,void 0),f.player.pauseVideo(),G=g.XU(Ve(f,I.targetUrl)),G=g.Ax(G),g.QV(G,void 0,I.sessionData);else{var P=g.cb(f.player.X())||f.player.getVideoData().Y$,p=function(){var e=Ve(f,I.targetUrl),O=I.sessionData,N=I.watchEndpoint,H=
g.On(e);P&&H&&(H.v||H.list)?f.player.uZ(H.v,O,H.list,!1,void 0,N||void 0):g.Cm(e,O)};
UPw(f,I,function(){f.player.sendVideoStatsEngageEvent(17,p)})}}}},Ve=function(f,I){f=f.player.X();
if(I){if(I.startsWith("//"))return f.protocol+":"+I;if(I.startsWith("/"))return g.Hb(f)+I}else return"";return I},jn$=function(f,I,G){g.Ol(I.element,"ytp-ce-element-hover")||(G.type==="VIDEO"||G.type==="PLAYLIST"?g.Nu(I.element,"ytp-ce-element-hover"):f.player.X().W?(new g.b9(function(){g.Nu(I.element,"ytp-ce-element-hover")},200)).start():g.Nu(I.element,"ytp-ce-element-hover"),vF(f,G.uE),rf(f,G.id,!0))},KTr=function(f,I,G){g.it(I.element,"ytp-ce-element-hover");
g.it(I.element,"ytp-ce-force-expand");rf(f,G.id,!1)},rf=function(f,I,G){f.Z&&(G?f.B.show():f.B.hide());
for(var c=g.Y(Object.keys(f.W)),P=c.next();!P.done;P=c.next())P=P.value,P!==I&&g.ut(f.W[P].element,"ytp-ce-element-shadow-show",G)},vF=function(f,I,G){function c(){p||(P++,P===I.length&&(e.stop(),G&&G()))}
if(!I||I.length===0||Zi(f))G&&G();else{I=zS7(f,I);var P=0,p=!1,e=new g.b9(function(){p=!0;G&&G()},1E3,f);
e.start();for(f=0;f<I.length;f++)g.TC(I[f],c)}},UPw=function(f,I,G){vF(f,I.clickUrls,G);
(f=g.hO())&&I.tC&&g.xg(f,I.visualElement)},zS7=function(f,I){var G=f.player.getVideoData().clientPlaybackNonce;
f=f.player.getCurrentTime().toFixed(2);G={CPN:G,AD_CPN:G,MT:f};f=[];for(var c=0;c<I.length;c++)f.push(hSE(I[c],G));return f},hSE=function(f,I){return f.replace(/%5B[a-zA-Z_:]+%5D|\[[a-zA-Z_:]+\]/g,function(G){var c=unescape(G);
c=c.substring(1,c.length-1);return I[c]?escape(I[c]):G})},M4y=function(f){return typeof f==="string"?f:""},df=function(f,I,G){for(var c in I)if(I[c]===f)return f;
return G},DPE=function(f,I,G,c){this.value=f;
this.target=I;this.showLinkIcon=G;this.U=c},ye=function(f){return f.value?f.value:null},AJ=function(f){if(!f)return null;
var I=g.XU(M4y(f.value));I=g.Ax(I);if(!I)return null;var G=df(f.target,FTU,"current");if(G==null)f=null;else{var c=f.show_link_icon;f=new DPE(I,G,c==="true"||c==="false"?c==="true":!0,f.pause_on_navigation!=null?f.pause_on_navigation:!0)}return f},ZRZ=function(f,I,G){this.type=f;
this.trigger=I;this.url=G},V4r=function(f){if(!f)return null;
var I=df(f.type,gzw),G=df(f.trigger,RSu);f=f.url;f=Array.isArray(f)&&f.length?f[0]:f;f=AJ(f?f:null);return I?new ZRZ(I,G,f):null},rd$=function(f,I,G,c,P){this.id=f;
this.type=I;this.style=G;this.data=P;this.action=c||[]},vzZ=function(f,I){return g.uZ(f.action,I)},dPZ=function(f,I){this.context=f;
this.U=I},ydV=function(f){return f.customMessage?Ty("div","iv-card-message",f.customMessage):""},no=function(f,I){f="background-image: url("+f+");";
var G=[];I&&G.push(I);return{V:"div",K:"iv-card-image",D:{style:f},S:G}},Ad2=function(f){if(!f.metaInfo||f.metaInfo.length===0)return"";
var I=[];f=g.Y(f.metaInfo);for(var G=f.next();!G.done;G=f.next())I.push(Ty("li","",G.value));return{V:"ul",K:"iv-card-meta-info",S:I}},Ty=function(f,I,G){I?typeof I==="string"?I={"class":I}:Array.isArray(I)&&(I={"class":I.join(" ")}):I={};
I.dir=g.Yy(G);return{V:f,D:I,EH:G}},TgL=function(f){if(!f.customMessage)return"";
var I=["iv-card-action","iv-card-primary-link"],G={};f.vy&&(I.push("iv-card-action-icon"),G.style="background-image: url("+f.vy+");");G.dir=g.Yy(f.customMessage);var c=[{V:"span",EH:f.customMessage}];f.showLinkIcon&&(c.push("\u00a0"),c.push({V:"span",K:"iv-card-link-icon"}));return{V:"div",kM:I,D:G,S:c}},sS=function(f,I,G,c){if(c){I=g.Y(I);
for(var P=I.next();!P.done;P=I.next())f.U(P.value,c,G.id,G.sessionData,G.Z5.click,5)}},nzV=function(f,I){this.merchant=f;
this.price=I},snu=function(f){var I;
(I=f)&&!(I=f.length>1?f.charAt(0)==="/"&&f.charAt(1)!=="/":f==="/")&&(I=f.replace(/^(https?:)?\/\//,"").split("/",1),I=!I||I.length<1||!I[0]?[]:I[0].toLowerCase().split(".").reverse(),I=I[0]==="com"&&I[1]==="youtube"||I[0]==="be"&&I[1]==="youtu");return I?f.indexOf("/redirect?")===-1:!1},Xcw=function(f,I){return I?I:snu(f)?"current":"new"},XL=function(f,I){g.V.call(this);
var G=this;this.element=f;this.context=I;this.SF=!1;this.vH=new Map;this.zq=new Map;this.context.L.addEventListener(g.iC("annotations_module"),function(c){(c=G.vH.get(c))&&c.apply(G)});
this.context.L.addEventListener(g.Sf("annotations_module"),function(c){(c=G.zq.get(c))&&c.apply(G)})},ES=function(f,I,G,c,P,p,e){f.context.U.listen(I,"click",function(O){f.uo(G,c,P,p||[],e||0,O)});
f.context.U.listen(I,"touchstart",function(){f.SF=!1});
f.context.U.listen(I,"touchmove",function(){f.SF=!0})},EzL=function(f){var I;
return((I=g.d(f,g.Tg))==null?0:I.url)?g.d(f,g.Tg).url:(f=g.d(f,g.PY))&&f.videoId?(I="/watch?v="+f.videoId,f.playlistId&&(I+="&list="+f.playlistId),f.index&&(I+="&index="+f.index),f.startTimeSeconds&&(I+="&t="+f.startTimeSeconds),I):null},m$=function(f,I,G){return{fJ:(f.impressionLoggingUrlsV2s||[]).map(function(c){return c.baseUrl||""}),
click:(G.loggingUrls||[]).map(function(c){return c.baseUrl||""}),
close:(I.dismissLoggingUrlsV2s||[]).map(function(c){return c.baseUrl||""}),
Z6:(I.impressionLoggingUrlsV2s||[]).map(function(c){return c.baseUrl||""}),
B8:(I.clickLoggingUrlsV2s||[]).map(function(c){return c.baseUrl||""})}},mP7=function(f,I,G){XL.call(this,I,G);
var c=this;this.L=f;this.eventId=null;this.eW=this.hs=this.t9=this.Z=this.isInitialized=!1;this.cards=[];this.UB=this.N=this.LZ=this.B=this.jF=this.U=null;this.uH=[];this.WH=this.Y=this.X0=this.cH=null;this.J=0;this.It=new g.b9(function(){},G.UH.Tz?4E3:3E3);
g.r(this,this.It);this.gb=new g.b9(function(){});
g.r(this,this.gb);this.rb=new dPZ(G,function(P,p,e,O,N,H){ES(c,P,p,e,O,N,H)});
this.T=new g.T({V:"div",K:"iv-drawer",D:{id:"iv-drawer"},S:[{V:"div",K:"iv-drawer-header",D:{"aria-role":"heading"},S:[{V:"span",K:"iv-drawer-header-text"},{V:"button",kM:["iv-drawer-close-button","ytp-button"],D:{"aria-label":"Hide cards",tabindex:"0"}}]},{V:"div",K:"iv-drawer-content"}]});g.r(this,this.T);this.G=this.T.element;this.CZ=new g.Nz(this.T,330);g.r(this,this.CZ);this.EB=g.nz("iv-drawer-header-text",this.G);this.W=g.nz("iv-drawer-content",this.G);this.addCueRange(0,G.videoData.lengthSeconds*
1E3,"",function(){c.t9&&Co(c,"YOUTUBE_DRAWER_AUTO_OPEN")},function(){(c.t9=c.Z)&&Qe(c)});
this.lH=new g.yE(this);g.r(this,this.lH);this.L.addEventListener("videodatachange",this.l9.bind(this))},Ce2=function(f,I){I=I.data;
I.autoOpenMs&&f.addCueRange(I.autoOpenMs,0x8000000000000,"",function(){Co(f,"YOUTUBE_DRAWER_AUTO_OPEN")});
I.autoCloseMs&&f.addCueRange(I.autoCloseMs,0x8000000000000,"",function(){Qe(f)});
var G=I.headerText;g.px(f.EB,G);f.N&&f.N.setAttribute("title",G);I.eventId&&(f.eventId=I.eventId);f.cH=g.JO(I.trackingParams);f.Y=g.JO(I.closeTrackingParams);f.X0=g.JO(I.iconTrackingParams)},Qnk=function(f,I){var G=I.cardId?I.cardId:"cr:"+f.J,c=f.L.X().experiments.As("enable_error_corrections_infocard_web_client");
if(!I.content&&I.teaser.simpleCardTeaserRenderer&&c){var P=I.teaser.simpleCardTeaserRenderer,p=I.icon?I.icon.infoCardIconRenderer:null;if(P.channelAvatar&&P.channelAvatar.thumbnails&&P.channelAvatar.thumbnails.length>0)var e=bx(P.channelAvatar.thumbnails,22,22).url;I={id:G,timestamp:f.J,type:"simple",teaserText:g.WB(P.message),teaserDurationMs:Number(I.cueRanges[0].teaserDurationMs),startMs:Number(I.cueRanges[0].startCardActiveMs),autoOpen:!!I.autoOpen,sessionData:{},sponsored:!1,Z5:{},XY:null,D5:P.trackingParams?
g.JO(P.trackingParams):null,X0:p&&p.trackingParams?g.JO(p.trackingParams):null,imageUrl:"",displayDomain:null,showLinkIcon:!1,vy:null,title:"",customMessage:"",url:null,onClickCommand:P.onTapCommand||null,Jj:e};fl(f,I)}else{var O;if((O=I.content)==null?0:O.simpleCardContentRenderer){if(!I.cueRanges.length)return;e=(P=I.content)==null?void 0:P.simpleCardContentRenderer;P=I.teaser.simpleCardTeaserRenderer;p=I.icon?I.icon.infoCardIconRenderer:null;I={id:G,timestamp:f.J,type:"simple",teaserText:g.WB(P.message),
teaserDurationMs:Number(I.cueRanges[0].teaserDurationMs),startMs:Number(I.cueRanges[0].startCardActiveMs),autoOpen:!!I.autoOpen,sessionData:Ia(f,G,I,e),sponsored:!1,Z5:m$(e,P,e.command),XY:e.trackingParams?g.JO(e.trackingParams):null,D5:P.trackingParams?g.JO(P.trackingParams):null,X0:p&&p.trackingParams?g.JO(p.trackingParams):null,imageUrl:bx(e.image.thumbnails,290,290).url,displayDomain:e.displayDomain?g.WB(e.displayDomain):null,showLinkIcon:!!e.showLinkIcon,vy:null,title:e.title?g.WB(e.title):"",
customMessage:e.callToAction?g.WB(e.callToAction):"",url:g.d(e.command,g.Tg).url?AJ({pause_on_navigation:!f.context.videoData.isLivePlayback,target:"new",value:g.d(e.command,g.Tg).url}):null,onClickCommand:null};fl(f,I)}else{var N;if((N=I.content)==null?0:N.collaboratorInfoCardContentRenderer){if(!I.cueRanges.length)return;e=(p=I.content)==null?void 0:p.collaboratorInfoCardContentRenderer;P=I.teaser.simpleCardTeaserRenderer;p=I.icon?I.icon.infoCardIconRenderer:null;I={id:G,timestamp:f.J,type:"collaborator",
teaserText:g.WB(P.message),teaserDurationMs:Number(I.cueRanges[0].teaserDurationMs),startMs:Number(I.cueRanges[0].startCardActiveMs),autoOpen:!!I.autoOpen,sessionData:Ia(f,G,I,e),sponsored:!1,Z5:m$(e,P,e.endpoint),XY:e.trackingParams?g.JO(e.trackingParams):null,D5:P.trackingParams?g.JO(P.trackingParams):null,X0:p&&p.trackingParams?g.JO(p.trackingParams):null,channelId:g.d(e.endpoint,g.UI).browseId,customMessage:e.customText?g.WB(e.customText):null,profileImageUrl:bx(e.channelAvatar.thumbnails,290,
290).url,title:e.channelName?g.WB(e.channelName):"",metaInfo:[e.subscriberCountText?g.WB(e.subscriberCountText):""],url:AJ({pause_on_navigation:!f.context.videoData.isLivePlayback,target:"new",value:g.d(e.endpoint,g.UI).canonicalBaseUrl?g.d(e.endpoint,g.UI).canonicalBaseUrl:"/channel/"+g.d(e.endpoint,g.UI).browseId}),onClickCommand:null};fl(f,I)}else{var H;if((H=I.content)==null?0:H.playlistInfoCardContentRenderer){if(!I.cueRanges.length)return;var x;e=(x=I.content)==null?void 0:x.playlistInfoCardContentRenderer;
P=I.teaser.simpleCardTeaserRenderer;p=I.icon?I.icon.infoCardIconRenderer:null;I={id:G,timestamp:f.J,type:"playlist",teaserText:g.WB(P.message),teaserDurationMs:Number(I.cueRanges[0].teaserDurationMs),startMs:Number(I.cueRanges[0].startCardActiveMs),autoOpen:!!I.autoOpen,sessionData:Ia(f,G,I,e),sponsored:!1,Z5:m$(e,P,e.action),XY:e.trackingParams?g.JO(e.trackingParams):null,D5:P.trackingParams?g.JO(P.trackingParams):null,X0:p&&p.trackingParams?g.JO(p.trackingParams):null,xg:bx(e.playlistThumbnail.thumbnails,
258,290).url,customMessage:e.customMessage?g.WB(e.customMessage):null,playlistVideoCount:g.WB(e.playlistVideoCount),title:e.playlistTitle?g.WB(e.playlistTitle):"",metaInfo:[e.channelName?g.WB(e.channelName):"",e.videoCountText?g.WB(e.videoCountText):""],url:AJ({pause_on_navigation:!f.context.videoData.isLivePlayback,target:"new",value:EzL(e.action)}),onClickCommand:null};fl(f,I)}else{var S;if((S=I.content)==null?0:S.videoInfoCardContentRenderer){if(!I.cueRanges.length)return;var u;e=(u=I.content)==
null?void 0:u.videoInfoCardContentRenderer;P=I.teaser.simpleCardTeaserRenderer;p=I.icon?I.icon.infoCardIconRenderer:null;I={id:G,timestamp:f.J,type:"video",teaserText:g.WB(P.message),teaserDurationMs:Number(I.cueRanges[0].teaserDurationMs),startMs:Number(I.cueRanges[0].startCardActiveMs),autoOpen:!!I.autoOpen,sessionData:Ia(f,G,I,e),sponsored:!1,Z5:m$(e,P,e.action),XY:e.trackingParams?g.JO(e.trackingParams):null,D5:P.trackingParams?g.JO(P.trackingParams):null,X0:p&&p.trackingParams?g.JO(p.trackingParams):
null,xg:bx(e.videoThumbnail.thumbnails,258,290).url,videoDuration:e.lengthString?g.WB(e.lengthString):null,customMessage:e.customMessage?g.WB(e.customMessage):null,title:e.videoTitle?g.WB(e.videoTitle):"",metaInfo:[e.channelName?g.WB(e.channelName):"",e.viewCountText?g.WB(e.viewCountText):""],isLiveNow:!!e.badge,url:AJ({pause_on_navigation:!f.context.videoData.isLivePlayback,target:"new",value:EzL(e.action)}),onClickCommand:null};fl(f,I)}}}}}f.J++},bx=function(f,I,G){for(var c=-1,P=-1,p=0;p<f.length;p++){if(f[p].height===
I||f[p].width===G)return f[p];
((f[p].height||0)<I||(f[p].width||0)<G)&&(c<0||(f[c].height||0)<(f[p].height||0)||(f[c].width||0)<(f[p].width||0))?c=p:((f[p].height||0)>=I||(f[p].width||0)>=G)&&(P<0||(f[P].height||0)>(f[p].height||0)||(f[P].width||0)>(f[p].width||0))&&(P=p)}return f[P>=0?P:c]},Ia=function(f,I,G,c){return{feature:G.feature?G.feature:"cards",
src_vid:f.context.videoData.videoId,annotation_id:I,ei:f.context.videoData.eventId||"",itct:c.trackingParams||""}},fru=function(f,I){if(I=bRJ(f,I))I===f.U&&(f.U=null),f.L.removeCueRange(I.qL.id),g.cr(I.Pr),g.$7(f.cards,I),f.Um(),G9(f)},Co=function(f,I,G){if(!f.Z){f.CZ.show();
f.jF=new g.b9(function(){g.Nu(f.context.L.getRootNode(),g.GB.IV_DRAWER_OPEN)},0);
f.jF.start();f.lH.C(f.W,"mousewheel",function(e){f.It.start();e.preventDefault();e=e||window.event;var O=0;e.type=="MozMousePixelScroll"?O=0==(e.axis==e.HORIZONTAL_AXIS)?e.detail:0:window.opera?O=e.detail:O=e.wheelDelta%120==0?"WebkitTransform"in document.documentElement.style?window.chrome&&navigator.platform.indexOf("Mac")==0?e.wheelDeltaY/-30:e.wheelDeltaY/-1.2:e.wheelDelta/-1.6:e.wheelDeltaY/-3;if(e=O)f.W.scrollTop+=e});
f.Z=!0;var c=g.hO();c&&f.cH&&f.Y&&g.Na(c,[f.cH,f.Y]);I={TRIGGER_TYPE:I};for(var P=g.Y(f.cards),p=P.next();!p.done;p=P.next())p=p.value,p.un||(p.un=!0,IrV(f.context.logger,p.qL.Z5.fJ,I)),c&&g.Na(c,[p.qL.XY]);jo(f.L);G&&(f.B=new g.b9(function(){f.LZ=f.N;f.UB.focus()},330),f.B.start())}},Qe=function(f){f.Z&&(f.CZ.hide(),g.Dp(f.lH),g.it(f.context.L.getRootNode(),g.GB.IV_DRAWER_OPEN),f.Z=!1,jo(f.L),f.B&&f.B.stop(),f.B=new g.b9(function(){f.LZ&&(f.LZ.focus(),f.LZ=null)},330),f.B.start())},GX2=function(f){g.H4(f.sB(),
[g.GB.STOP_EVENT_PROPAGATION,
"iv-drawer-manager"]);g.Vb(f.L,f.G,5);f.vt();f.N=g.nz("ytp-cards-button",f.L.getRootNode());f.UB=g.nz("iv-drawer-close-button",f.G);f.isInitialized=!0},czZ=function(f){f.uH.push(g.Ha("iv-teaser-shown",f.W6,f));
f.uH.push(g.Ha("iv-teaser-hidden",f.N1,f));f.uH.push(g.Ha("iv-teaser-clicked",f.u8,f));f.eW=!0},PrL=function(f,I){var G;
return I.onClickCommand&&((G=g.d(I.onClickCommand,g.ZVL))==null?void 0:G.targetId)==="engagement-panel-error-corrections"?(f.WH=I,!0):!1},pe2=function(f,I){f.WH=I;
var G=f.L.getVideoData();if(!G)return!1;G=g.DU(G);if(G==null?0:G.markersMap)for(var c,P=0;((c=G)==null?void 0:c.markersMap.length)>P;P++){var p=void 0,e=(p=G)==null?void 0:p.markersMap[P];if(e.key==="ERROR_CORRECTION_MARKERS"&&(p=void 0,(e=(p=e.value)==null?void 0:p.markers)&&e.length>0))return c=void 0,I.startMs=((c=g.d(e[0],g.JJ9))==null?void 0:c.timeRangeStartMillis)||0,f.WH=null,!0}return!1},fl=function(f,I){if(!PrL(f,I)||pe2(f,I)){var G=e7V(f,I);
if(G){var c={qL:I,Pr:G.element,un:!1};if(I.onClickCommand)f.L.j("web_infocards_teaser_show_logging_fix")&&(f.eW||czZ(f),fru(f,I.id),G=f.findLastIndex(c),g.KU(f.cards,G,0,c));else{f.isInitialized||GX2(f);fru(f,I.id);var P=f.findLastIndex(c);g.KU(f.cards,P,0,c);G.sH(f.W,P);f.Um()}I.autoOpen?f.addCueRange(I.startMs,0x8000000000000,I.id,function(){f.Z||(f.U=c,G9(f),t_k(f,c),Co(f,"YOUTUBE_DRAWER_AUTO_OPEN",!1))}):(G=f.context.L.getCurrentTime()*1E3,G<5E3&&G>I.startMs&&O8w(f,c),f.addCueRange(I.startMs,
I.startMs+1,I.id,function(){O8w(f,c)}),G9(f))}}},e7V=function(f,I){switch(I.type){case "simple":f=f.rb;
var G=I.displayDomain?{V:"div",K:"iv-card-image-text",EH:I.displayDomain}:void 0;var c=TgL(I);G={V:"div",kM:["iv-card"],S:[{V:"a",K:"iv-click-target",D:{href:I.url?ye(I.url)||"":""},S:[no(I.imageUrl,G),{V:"div",K:"iv-card-content",S:[Ty("h2",void 0,I.title),c]}]}]};G=new g.T(G);sS(f,g.AK("iv-click-target",G.element),I,I.url);I=G;break;case "collaborator":f=f.rb;G={V:"div",kM:["iv-card","iv-card-channel"],S:[{V:"a",kM:["iv-click-target"],D:{href:ye(I.url)||"","data-ytid":I.channelId},S:[no(I.profileImageUrl),
{V:"div",K:"iv-card-content",S:[ydV(I),{V:"h2",K:"iv-card-primary-link",EH:I.title},Ad2(I)]}]}]};G=new g.T(G);sS(f,g.AK("iv-click-target",G.element),I,I.url);I=G;break;case "playlist":f=f.rb;G={V:"div",kM:["iv-card","iv-card-playlist"],S:[{V:"a",K:"iv-click-target",D:{href:ye(I.url)||""},S:[no(I.xg,{V:"div",K:"iv-card-image-overlay",S:[{V:"span",K:"iv-card-playlist-video-count",EH:I.playlistVideoCount}]}),{V:"div",K:"iv-card-content",S:[ydV(I),Ty("h2","iv-card-primary-link",I.title),Ad2(I)]}]}]};
G=new g.T(G);sS(f,g.AK("iv-click-target",G.element),I,I.url);I=G;break;case "productListing":f=f.rb;var P=I.offers.length!=0;G=["iv-card"];c="";var p=TgL(I);P&&(G.push("iv-card-product-listing"),c="iv-card-primary-link",p=I.offers[0],P=[],p.price&&P.push({V:"div",K:"iv-card-offer-price",EH:p.price}),p.merchant&&P.push({V:"div",K:"iv-card-offer-merchant",EH:p.merchant}),p={V:"div",S:P});P=I.url?ye(I.url)||"":"";G={V:"div",kM:G,D:{tabindex:"0"},S:[{V:"a",kM:["iv-card-image","iv-click-target"],D:{style:"background-image: url("+
I.imageUrl+");",href:P,"aria-hidden":"true",tabindex:"-1"}},{V:"div",K:"iv-card-content",S:[I.sponsored?{V:"div",K:"iv-card-sponsored",S:["Sponsored",{V:"div",K:"iv-ad-info-container",S:[{V:"div",K:"iv-ad-info",EH:"{{adInfo}}"},{V:"div",K:"iv-ad-info-icon-container",S:[{V:"div",K:"iv-ad-info-icon"},{V:"div",K:"iv-ad-info-callout"}]}]}]}:"",{V:"a",K:"iv-click-target",D:{href:P},S:[Ty("h2",c,I.title),p]}]}]};G=new g.T(G);c=g.Qh("span");g.px(c,"You are seeing this product because we think it is relevant to the video. Google may be compensated by the merchant.");
G.Dv(c,"adInfo");sS(f,g.AK("iv-click-target",G.element),I,I.url);I=G;break;case "video":f=f.rb;c=I.videoDuration?{V:"span",K:"iv-card-video-duration",EH:I.videoDuration}:void 0;p=I.isLiveNow?{V:"span",kM:["yt-badge","yt-badge-live"],EH:"LIVE NOW"}:null;P={V:"div",kM:["iv-card","iv-card-video"],S:[{V:"a",K:"iv-click-target",D:{href:((G=I.url)==null?void 0:ye(G))||""},S:[no(I.xg,c),{V:"div",K:"iv-card-content",S:[ydV(I),Ty("h2","iv-card-primary-link",I.title),Ad2(I),p]}]}]};G=new g.T(P);sS(f,g.AK("iv-click-target",
G.element),I,I.url);I=G;break;default:return null}return I},NF2=function(f){if(f.U)return f.U.qL.type==="productListing";
if(f.L.j("enable_wn_infocards")){var I;return!((I=f.cards)==null||!I.length)&&g.Ql(f.cards,function(G){return G.qL.type==="productListing"})}return g.Ql(f.cards,function(G){return G.qL.type==="productListing"})},G9=function(f){g.ut(f.L.getRootNode(),"ytp-cards-shopping-active",NF2(f))},O8w=function(f,I){if(!g.Ol(f.L.getRootNode(),"ytp-cards-teaser-shown")){if(f.U!==I){var G=g.hO(),c=f.U?f.U.qL.X0:f.X0;
G&&c&&g.HB(G,[c]);f.U=I;G9(f)}(G=f.isInitialized&&f.sB().style.display=="none")||(G=f.context.L.getPlayerState(),c=G===0&&f.context.L.getCurrentTime()===0,G=!(G===1||G===3||c));if(!G&&I.qL.teaserDurationMs){var P;G={teaserText:I.qL.teaserText,durationMs:I.qL.teaserDurationMs,onClickCommand:I.qL.onClickCommand,Jj:(P=I.qL.Jj)!=null?P:null};f.L.mY(!0,G)}f.gb.isActive()||((!f.Z||!f.It.isActive()&&f.hs)&&t_k(f,I),f.gb.start(910+I.qL.teaserDurationMs))}},t_k=function(f,I){f.T.u1?(I=new hJ([0,
f.W.scrollTop],[0,I.Pr.offsetTop],600,a7U),f.context.Z.listen(I,"animate",function(G){f.W.scrollTop=G.y}),f.context.Z.listen(I,"finish",function(G){f.W.scrollTop=G.y}),I.play()):(f.T.yL(!0),f.W.scrollTop=I.Pr.offsetTop,f.T.yL(!1))},cW=function(f){return f.U&&f.U.qL?f.U.qL:f.cards[0]&&f.cards[0].qL?f.cards[0].qL:null},bRJ=function(f,I){return g.uZ(f.cards,function(G){return G.qL.id===I})},PW=function(f,I,G){XL.call(this,f,I);
this.annotation=G;this.isActive=!1},H8$=function(f){var I=f.annotation.data;
"start_ms"in I&&"end_ms"in I&&f.addCueRange(Number(I.start_ms),Number(I.end_ms),f.annotation.id,function(){f.show()},function(){f.hide()})},pl=function(f,I,G){PW.call(this,f,I,G);
this.W=null;this.Y=!1;this.Z=null;this.G=!1;this.U=this.J=this.B=null},xGL=function(f,I){var G=G===void 0?0:G;
var c=eSL(I).width;g.zA(I,c);G=new SB7(I,[c,I.offsetTop],[c-c-G,I.offsetTop],200,uAU);g.r(f,G);f.context.Z.listen(G,"begin",function(){g.gq(I,!0)});
G.play()},uow=function(f,I){if(I.channel_name){var G=f.createElement({V:"div",
kM:["iv-branding-context-name"],EH:I.channel_name}),c=f.createElement({V:"div",kM:["iv-branding-context-subscribe"]}),P=I.standalone_subscribe_button_data;P&&(f.U=new g.Qw(P.subscribeText,P.subscribeCount,P.unsubscribeText,P.unsubscribeCount,!!P.enabled,!!P.classic,I.channel_id,!!P.subscribed,P.feature,I.session_data.itct,f.context.L,!1),f.U.sH(c));var p=f.createElement({V:"div",kM:["iv-branding-context-subscribe-caret"]}),e=f.createElement({V:"div",kM:["branding-context-container-inner"]});e.appendChild(p);
e.appendChild(G);e.appendChild(c);g.gq(e,!1);var O=f.createElement({V:"div",kM:["branding-context-container-outer"]});O.appendChild(e);g.o2(O,"right",I.image_width+"px");g.fx(f.sB(),O);f.Z=new g.b9(function(){i82(f,e,O)},500);
g.r(f,f.Z);f.context.U.listen(f.sB(),"mouseover",function(){S8r(f,e,O,p,I.image_height)});
f.context.U.listen(f.sB(),"mouseout",function(){f.Z.start()})}},S8r=function(f,I,G,c,P){f.Z.stop();
if(!f.G){var p=g.ZY(I);f.U||(I.style.width=g.UA(p.width,!0),G.style.width=g.UA(p.width,!0));g.o2(c,"top",p.height-Math.max(Math.min(p.height,P)/2+10,20)+"px");g.o2(c,"right","1px");f.G=!0;g.gq(I,!0);f.B=new g.b9(function(){g.Nu(this.sB(),"iv-branding-active")},0,f);
f.B.start()}},i82=function(f,I,G){g.it(f.sB(),"iv-branding-active");
f.J=new g.b9(function(){g.gq(I,!1);f.U||(G.style.width=g.UA(0,!0))},250);
f.J.start();f.G=!1},arZ=function(f,I,G,c,P,p,e){this.U=f;
this.Z=I;this.UH=G;this.videoData=c;this.logger=P;this.L=p;this.W=e},kXw=function(f,I,G){PW.call(this,f,I,G);
var c=this;this.N=this.isCollapsed=this.T=!1;this.J=5E3;this.W=this.Z=this.U=this.G=null;this.Y=this.createElement({V:"div",kM:["iv-promo-contents"]});this.B=new g.b9(function(){c.U.setAttribute("aria-hidden","true");g.gq(c.Z,!1);g.gq(c.W,!0)},700,this);
g.r(this,this.B)},we2=function(f){var I=f.annotation.data;
if(f.annotation.style==="cta")var G=6;else if(f.annotation.style==="video"||f.annotation.style==="playlist")G=7;f.J=I.collapsedelay_ms||f.J;var c=["iv-promo","iv-promo-inactive"];f.sB().setAttribute("aria-hidden","true");f.sB().setAttribute("aria-label","Promotion");f.sB().tabIndex=0;var P=f.annotation.hO(),p=I.image_url;if(p){var e=f.createElement({V:"div",kM:["iv-promo-img","iv-click-target"]});p=f.createElement({V:"img",D:{src:p,"aria-hidden":"true"}});e.appendChild(p);I.video_duration&&!I.is_live?
(p=f.createElement({V:"span",K:"iv-promo-video-duration",EH:I.video_duration}),e.appendChild(p)):I.playlist_length&&(p=f.createElement({V:"span",K:"iv-promo-playlist-length",EH:I.playlist_length.toString()}),e.appendChild(p));P&&ES(f,e,P,f.annotation.id,I.session_data,void 0,G)}P?(p=f.createElement({V:"a",K:"iv-promo-txt"}),g.mo(p,ye(P)),f.U=p):f.U=f.createElement({V:"div",K:"iv-promo-txt"});switch(f.annotation.style){case "cta":case "website":var O=f.createElement({V:"p",S:[{V:"strong",EH:I.text_line_1}]});
var N=f.createElement({V:"p",S:[{V:"span",K:"iv-promo-link",EH:I.text_line_2}]});if(p=I.text_line_3){c.push("iv-promo-website-card-cta-redesign");var H=f.createElement({V:"button",kM:["iv-promo-round-expand-icon","ytp-button"]});p=f.createElement({V:"button",kM:["iv-button","iv-promo-button"],S:[{V:"span",K:"iv-button-content",EH:p}]});var x=f.createElement({V:"div",K:"iv-promo-button-container"});x.appendChild(p);P&&ES(f,f.sB(),P,f.annotation.id,I.session_data,void 0,G)}g.Nu(f.U,"iv-click-target");
P&&ES(f,f.U,P,f.annotation.id,I.session_data,void 0,G);break;case "playlist":case "video":O=f.createElement({V:"p",S:[{V:"span",EH:I.text_line_1}]}),N=f.createElement({V:"p",S:[{V:"strong",EH:I.text_line_2}]}),I.is_live&&(O=N,N=f.createElement({V:"span",kM:["yt-badge","iv-promo-badge-live"],EH:"LIVE NOW"})),g.Nu(f.U,"iv-click-target"),P&&ES(f,f.U,P,f.annotation.id,I.session_data,void 0,G),c.push("iv-promo-video")}O&&f.U.appendChild(O);N&&f.U.appendChild(N);f.Y.appendChild(f.U);x&&f.Y.appendChild(x);
G=f.createElement({V:"div",K:"iv-promo-actions"});f.W=f.createElement({V:"button",kM:["iv-promo-expand","ytp-button"]});f.W.title="Expand";f.context.U.listen(f.W,"click",function(S){lr7(f,5E3,S)});
G.appendChild(f.W);g.gq(f.W,!1);f.context.U.listen(f.sB(),"mouseover",f.qx,f);f.context.U.listen(f.sB(),"mouseout",f.BN,f);f.context.U.listen(f.sB(),"touchend",function(S){lr7(f,5E3,S)});
f.Z=f.createElement({V:"button",kM:["iv-promo-close","ytp-button"]});f.Z.title="Close";f.context.U.listen(f.Z,"click",f.annotation.style==="cta"&&I.text_line_3?f.PN:f.Fc,f);G.appendChild(f.Z);g.H4(f.sB(),c);e&&(g.fx(f.sB(),e),H&&e.appendChild(H));g.fx(f.sB(),f.Y);g.fx(f.sB(),G)},lr7=function(f,I,G){G.stopPropagation();
$GE(f);Y87(f,I);f.U.focus()},BFU=function(f){f.isCollapsed||f.N||f.G||(g.Nu(f.sB(),"iv-promo-collapsed"),f.isCollapsed=!0,f.B.start())},$GE=function(f){f.B.stop();
f.isCollapsed&&(g.Sa(f.sB(),["iv-promo-collapsed","iv-promo-collapsed-no-delay"]),f.isCollapsed=!1,f.U&&f.U.removeAttribute("aria-hidden"),g.gq(f.W,!1),g.gq(f.Z,!0))},Y87=function(f,I){f.G||(f.G=g.rx(function(){Lxr(this);
BFU(this)},I,f))},Lxr=function(f){f.G&&(g.XB.clearTimeout(f.G),f.G=null)},Wxk=function(f){this.L=f},IrV=function(f,I,G){I&&(G?eb(f,I.map(function(c){return g.De(c,G)})):eb(f,I))},eb=function(f,I,G,c){var P=1,p=void 0,e=-1;
if(G){var O=!1;p=function(){P--;P||O||(clearTimeout(e),O=!0,G())};
e=setTimeout(function(){O=!0;G()},1E3)}I=g.Y(I||[]);
for(var N=I.next();!N.done;N=I.next())N=N.value,P++,g.TC(N,p);c&&(P++,c!==0&&f.L.sendVideoStatsEngageEvent(c,p))},oGJ=function(f){g.w0.call(this,f);
var I=this;this.uH=this.N=!1;this.loadNumber=0;this.J={};this.logger=new Wxk(this.player);this.G=new g.yE(this);this.B=this.Y=null;this.events=new g.yE(this);this.wT=this.T=this.U=null;this.WH=[];g.r(this,this.G);this.G.C(this.player,"onVideoAreaChange",function(){I.publish("onVideoAreaChange")});
this.G.C(this.player,"onHideControls",function(){I.publish("onHideControls")});
this.G.C(this.player,"onShowControls",function(){I.publish("onShowControls")});
this.G.C(this.player,"resize",function(c){I.publish("resize",c)});
this.G.C(this.player,"presentingplayerstatechange",function(c){I.publish("presentingplayerstatechange",c)});
this.subscribe("presentingplayerstatechange",this.pj,this);this.subscribe("resize",this.W4,this);this.player.X().hs.subscribe("vast_info_card_add",this.L2,this);g.r(this,this.events);this.rb=this.createElement({V:"div",K:"video-custom-annotations"});this.W=new g.T({V:"div",kM:["ytp-player-content","ytp-iv-player-content"]});g.r(this,this.W);g.Vb(this.player,this.W.element,4);this.W.hide();this.Z=new g.T({V:"div",kM:["ytp-iv-video-content"]});g.r(this,this.Z);f=this.createElement({V:"div",K:"video-annotations"});
f.appendChild(this.rb);this.Z.element.appendChild(f);this.Np()&&this.load();var G=this.createElement({V:"style"});(g.yh("HEAD")[0]||document.body).appendChild(G);this.addOnDisposeCallback(function(){g.cr(G)});
if(f=G.sheet)f.insertRule(".iv-promo .iv-promo-contents .iv-promo-txt .iv-promo-link:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUBAMAAAB/pwA+AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAHlBMVEVMaXH////////////////////////////////////Z6AnKAAAACXRSTlMA+/A2IuI1mJIldm0CAAAAAWJLR0QB/wIt3gAAAEVJREFUCNdjYGCYCQUMBJlACOIzIDElIcyZkwxgojOVWWDMSQauMKYySySUOSnBdSaUOZ0lEsac2YqwYiZ+JhwgM7E5HACgzVCI/YJ59AAAAABJRU5ErkJggg==) no-repeat center;background-size:10px;width:10px;height:10px}",
0),f.insertRule(".iv-promo .iv-promo-actions .iv-promo-close:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJBAMAAAASvxsjAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAVaQDpaimqQbl5rjXUFUAAAABYktHRAH/Ai3eAAAAPUlEQVQI12MQMmAwEmDwDmaOTmAw39663YCBuXp2MQMDQ+fOBgYG5ujVwQwMptvbgeLaxczVCQwiBgxmAgBkXg1FN5iwiAAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",
0),f.insertRule(".iv-promo .iv-promo-actions .iv-promo-expand:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAJBAMAAADnQZCTAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXHMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMzMz////eMKB4AAAAC3RSTlMAOpE7k5Uvj5kpfRaQSaQAAAABYktHRAsf18TAAAAAHklEQVQI12MQYGBQZmBwTWCo0GSo6AKRQDZQRIABADXXA/UkIpvtAAAAAElFTkSuQmCC) no-repeat center;background-size:4px 9px;width:4px;height:9px}",0),f.insertRule(".iv-promo-website-card-cta-redesign .iv-promo-round-expand-icon:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAAmJLR0QA/4ePzL8AAAAJcEhZcwAACxMAAAsTAQCanBgAAAAHdElNRQfgCgUUEztsNfqrAAAAXklEQVRYw+3Uuw2AQAwEUUNXfBpDIvBRMhQwJJAScNrA0r4CdiQHjjAzK4NGKucPAFmCnZcmwcTphBNO9CTGH4VB+/Zm6YlYis9fhedXz38FNvFriCCl808iw8ysrBu65gCeuV/CfgAAAABJRU5ErkJggg==) no-repeat center;background-size:18px 18px;width:18px;height:18px}",
0),f.insertRule(".iv-card-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASBAMAAACk4JNkAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAGFBMVEVMaXG7u7u7u7u7u7u7u7u7u7u7u7v///+WKTAlAAAABnRSTlMAFdQWbGj9GiOuAAAAAWJLR0QHFmGI6wAAAEhJREFUCNdjYACBNCBgQGMxMKrBWEJJaRAJRjVlKEsoSQDIAqtSZICwgEIQFkgIZBRECMxiBqsCsVjAqsCygQwwFgMeFgQgswBg2xjLrfC4mgAAAABJRU5ErkJggg==) no-repeat center;background-size:9px;width:9px;height:9px}",0),f.insertRule(".iv-card-playlist-video-count:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAJFBMVEVMaXH///////////////////////////////////////////9tKdXLAAAAC3RSTlMAvDeyLvxYtDK9Ogx4T1QAAAABYktHRAH/Ai3eAAAAK0lEQVQY02NgoBjshgO8HJoYwKiAMGAD92YHJM7uMCTO9gaEHs4FlPuZAQC8Fj8x/xHjxwAAAABJRU5ErkJggg==) no-repeat center;background-size:24px;width:24px;height:24px}",
0),f.insertRule(".iv-drawer-close-button:after {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMAgMAAAArG7R0AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACVBMVEVMaXH////////OZTV/AAAAAnRSTlMAoKBFbtAAAAABYktHRAH/Ai3eAAAAKUlEQVQI12MIYGBlSGGQBMIUBjbHCQyM0xwYGDIZwBjEBomB5EBqgGoBolQGzYuy51cAAAAASUVORK5CYII=) no-repeat center;background-size:12px;width:12px;height:12px}",0),f.insertRule(".iv-ad-info-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAMAAACecocUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAVFBMVEVMaXGUlJSYmJiZmZmYmJiXl5eZmZmZmZmWlpaVlZWOjo6ZmZmSkpKXl5eYmJiYmJiZmZmZmZmZmZmZmZmYmJiJiYmXl5eZmZmYmJiWlpaZmZn///+81lbeAAAAGnRSTlMAE5DM80DliTMMEjccWIM5p1UjaTQNgB5cLlr5mgUAAAABYktHRBsCYNSkAAAAVElEQVQI102NRw7AIBADhw7ppIf/PzQLJ/ZgWSNrFlDaWKMVcs6HmGLwTqjEME6CFDrAXBYIGhNh3TJEg02wHydctvFc7sbrvnXZV8/zfs3T+7u/P7CrAso35YfPAAAAAElFTkSuQmCC) no-repeat center;background-size:11px;width:11px;height:11px}",
0),f.insertRule(".annotation-close-button {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAALVBMVEVMaXEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/Pz9aWloBAQGZmZlbW1v///+X9wUzAAAACHRSTlMANprf+g6lyRmB9hUAAAABYktHRA5vvTBPAAAAWUlEQVQI12NgYBAycVZkAIKwDiBIZWBgrQAx2gMY2DrAIIFBomPWju6VHY0MGh1rbu891dHEYNGx9+yd2x3NDB4d3XfO7uhoQTDgUnDFcO1wA+FWwC2FOQMAdKg6tUSAFEAAAAAASUVORK5CYII=) no-repeat center}",0),f.insertRule(".annotation-link-icon {background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAMAAAANmfvwAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAUVBMVEVMaXH////////////////////////////////////////////////////////////////////////////////////////////////////////JzkR1AAAAGnRSTlMAfXf+c3xsdGdv/GJoXPtXXflSVk5L7DBH9VeFfsQAAAABYktHRAH/Ai3eAAAAgElEQVQ4y93SSQ6AIAwFULSOOOJs739Qf9SF0VA2uNCu+psHaQJK7cVCqY+Rg92PXA++Q84KnCR03UIRJrFEKMEgZYFQhpyzQHSBWJJAdIVUENtJ3SC0mu3EdOh7zXZiBrRdzQLJ0Y1GfOlpVstD3HaZktX9X/gvRCxvxL6FR7IBS1RTM5xIpLoAAAAASUVORK5CYII=) no-repeat center}",
0)},q8u=function(f){f=f.createElement({V:"div",
kM:["annotation","annotation-type-custom"]});g.gq(f,!1);return f},j_2=function(f,I){I=!I.isCued()&&!g.X(I,1024);
f.W.yL(I);f.Z.yL(I)},Kx2=function(f,I,G){f.N=!0;
f.B=g.Un(I,G)},Jzu=function(f,I){for(var G={},c=g.Y(I.attributes),P=c.next();!P.done;P=c.next())P=P.value,G[P.name]=P.nodeValue;
for(c=0;c<I.childNodes.length;c++)if(P=I.childNodes[c],g.Iu(P)&&P.nodeType==1){if(G[P.tagName])var p=G[P.tagName];else if(P.tagName==="data"){P.childNodes.length>0&&(p=P.childNodes[0].nodeValue,G[P.tagName]=typeof p==="string"?p.trim():p);continue}else p=[],G[P.tagName]=p;P&&P.tagName==="TEXT"?P.childNodes.length===1&&P.childNodes[0].nodeType===3?p.push(P.childNodes[0].nodeValue):p.push(""):P&&p.push(Jzu(f,P))}return G},M_J=function(f){var I=f.player.getVideoData();
if(I.lH){var G=f.player.X().hs.get(I.videoId);if(G){var c={format:"XML",urlParams:{},method:"POST",withCredentials:!0,onFinish:function(P,p,e){P=f.loadNumber;p=I.videoId;f.loaded&&f.loadNumber===P&&f.player.getVideoData().videoId===p&&(e=g.w8(e)&&e.responseXML?e.responseXML:null)&&UGu(f,e)}};
g.p4()&&(c.onFinish=z72(f,c.onFinish));c.postParams={ic_only:"1"};h77(c,G);f.N=!0;g.Un(I.lH,c)}}},h77=function(f,I){f.method="POST";
f.postParams=f.postParams||{};I.Em&&(f.postParams.ic_coll=I.Em);I.Lo&&(f.postParams.ic_xml=I.Lo);I.BT&&(f.postParams.ic_track=I.BT)},DGy=function(f){var I=new g.T({V:"div"});
g.gq(I.element,!1);var G=new mP7(f.player,I.element,tw(f));g.r(G,I);I.sH(f.W.element);G.e8();return G},Z8E=function(f,I){var G,c;
if(I=(G=I.getWatchNextResponse())==null?void 0:(c=G.cards)==null?void 0:c.cardCollectionRenderer)f.uH=!0,FxE(f,I),I.headerText&&f.wT&&(G=g.WB(I.headerText),f.wT.setAttribute("title",G))},tw=function(f){if(!f.T){var I=new kP$(f);
g.r(f,I);var G=new g.wR(f);g.r(f,G);f.T=new arZ(I,G,f.player.X(),f.player.getVideoData(),f.logger,f.player,f.eE)}return f.T},UGu=function(f,I){var G=!1,c=I.getElementsByTagName("annotations");
if(c&&!(c.length<1)&&(c=c[0].getAttribute("itct"))){var P=g.hO();if(P){var p=g.z0();p&&g.GZ(g.Q8)(void 0,P,p,[g.JO(c)])}}I=I.getElementsByTagName("annotation");for(c=0;c<I.length;c++){p=Jzu(f,I[c]);P=null;try{if(p){var e=p.id,O=/.+/;var N=typeof e==="string"&&O!=null&&e!=null&&e.match(O)?e:"";var H=df(p.type,gG$),x=df(p.style,R72),S=M4y(p.data),u=S.length!==0?JSON.parse(S):{};var a=p.action;p=V4r;if(a==null)var k=null;else if(g.fU(a)){O=[];for(var B=g.Y(a),L=B.next();!L.done;L=B.next()){var K=p(L.value);
K&&O.push(K)}k=O}else{var q=p(a);k=q?[q]:[]}P=N&&H?new rd$(N,H,x,k,u):null}else P=null}catch(GT){}if(P)if(P.type==="branding"||P.type==="promotion"){p=f;O=P;var h=q8u(p),F=null;switch(O.type){case "branding":if(p.player.X().QS)break;p.W.element.appendChild(h);F=new pl(h,tw(p),O);break;case "promotion":g.Vb(p.player,h,4),F=new kXw(h,tw(p),O)}F&&F.e8();if(p=F)g.r(f,p),f.J[P.id]=p}else if(P.type==="card"||P.type==="drawer"){f.U||(f.U=DGy(f),g.r(f,f.U));if(P.type==="card"){h=f.U;var v=(G=P)&&G.data&&
G.data.card_type;P=G.data;if(v)switch(p=P.tracking||{},p={fJ:p.impression,click:p.click,close:p.close,Z6:p.teaser_impression,B8:p.teaser_click},O=P.tracking_params||{},F=null,v){case "collaborator":G={id:G.id,timestamp:P.timestamp||0,type:P.card_type,teaserText:P.teaser_text,teaserDurationMs:P.teaser_duration_ms,startMs:P.start_ms,autoOpen:P.auto_open||!1,sessionData:P.session_data||{},sponsored:P.sponsored||!1,Z5:p,XY:O.card?g.JO(O.card):null,D5:O.teaser?g.JO(O.teaser):null,X0:O.icon?g.JO(O.icon):
null,channelId:P.channel_id,customMessage:P.custom_message?P.custom_message:null,profileImageUrl:P.image_url,title:P.title,metaInfo:P.meta_info,url:AJ({pause_on_navigation:P.pause_on_navigation,target:P.target||"new",value:P.url}),onClickCommand:null};fl(h,G);break;case "playlist":G={id:G.id,timestamp:P.timestamp||0,type:P.card_type,teaserText:P.teaser_text,teaserDurationMs:P.teaser_duration_ms,startMs:P.start_ms,autoOpen:P.auto_open||!1,sessionData:P.session_data||{},sponsored:P.sponsored||!1,Z5:p,
XY:O.card?g.JO(O.card):null,D5:O.teaser?g.JO(O.teaser):null,X0:O.icon?g.JO(O.icon):null,xg:P.image_url,playlistVideoCount:P.playlist_video_count,customMessage:P.custom_message?P.custom_message:null,title:P.title,metaInfo:P.meta_info,url:AJ({pause_on_navigation:P.pause_on_navigation,target:P.target||"new",value:P.url}),onClickCommand:null};fl(h,G);break;case "productListing":P.signin_url&&(F=AJ({target:"current",value:P.signin_url}));v=[];for(var E=P.offers||[],n=0;n<E.length;n++)v.push(new nzV(g.l8(E[n].merchant),
g.l8(E[n].price)));G={id:G.id,timestamp:P.timestamp||0,type:P.card_type,teaserText:P.teaser_text,teaserDurationMs:P.teaser_duration_ms,startMs:P.start_ms,autoOpen:P.auto_open||!1,sessionData:P.session_data||{},sponsored:P.sponsored||!1,Z5:p,XY:O.card?g.JO(O.card):null,D5:O.teaser?g.JO(O.teaser):null,X0:O.icon?g.JO(O.icon):null,imageUrl:P.image_url,displayDomain:P.display_domain?P.display_domain:null,showLinkIcon:!!P.show_link_icon,vy:P.button_icon_url?P.button_icon_url:null,title:P.title,customMessage:P.custom_message?
P.custom_message:null,url:AJ({pause_on_navigation:P.pause_on_navigation,target:P.target||"new",value:P.url}),S9q:F,MBH:P.signin_title?P.signin_title:void 0,bHs:P.signin_message?P.signin_message:void 0,offers:v,onClickCommand:null};fl(h,G);break;case "simple":G={id:G.id,timestamp:P.timestamp||0,type:P.card_type,teaserText:P.teaser_text,teaserDurationMs:P.teaser_duration_ms,startMs:P.start_ms,autoOpen:P.auto_open||!1,sessionData:P.session_data||{},sponsored:P.sponsored||!1,Z5:p,XY:O.card?g.JO(O.card):
null,D5:O.teaser?g.JO(O.teaser):null,X0:O.icon?g.JO(O.icon):null,imageUrl:P.image_url,displayDomain:P.display_domain?P.display_domain:null,showLinkIcon:!!P.show_link_icon,vy:P.button_icon_url?P.button_icon_url:null,title:P.title,customMessage:P.custom_message?P.custom_message:null,url:AJ({pause_on_navigation:P.pause_on_navigation,target:P.target||"new",value:P.url}),onClickCommand:null};fl(h,G);break;case "video":G={id:G.id,timestamp:P.timestamp||0,type:P.card_type,teaserText:P.teaser_text,teaserDurationMs:P.teaser_duration_ms,
startMs:P.start_ms,autoOpen:P.auto_open||!1,sessionData:P.session_data||{},sponsored:P.sponsored||!1,Z5:p,XY:O.card?g.JO(O.card):null,D5:O.teaser?g.JO(O.teaser):null,X0:O.icon?g.JO(O.icon):null,xg:P.image_url,videoDuration:P.video_duration||null,customMessage:P.custom_message?P.custom_message:null,title:P.title,metaInfo:P.meta_info,isLiveNow:!!P.is_live_now,url:AJ({pause_on_navigation:P.pause_on_navigation,target:P.target||"new",value:P.url}),onClickCommand:null},fl(h,G)}}else Ce2(f.U,P);G=!0}}G&&
(jo(f.player),f.W4())},FxE=function(f,I){var G=!1;
f.U||(f.U=DGy(f),g.r(f,f.U));for(var c=g.Y(I.cards||[]),P=c.next();!P.done;P=c.next())P=P.value,P.cardRenderer&&(Qnk(f.U,P.cardRenderer),G=!0);if(G){var p;(p=f.player.getVideoData())!=null&&g.gL(p)||(G=f.U,c=I.headerText?g.WB(I.headerText):"",g.px(G.EB,c),G.N&&G.N.setAttribute("title",c),G.context.videoData.eventId&&(G.eventId=G.context.videoData.eventId),G.cH=I.trackingParams?g.JO(I.trackingParams):null,G.Y=I.closeButton.infoCardIconRenderer.trackingParams?g.JO(I.closeButton.infoCardIconRenderer.trackingParams):
null,G.X0=I.icon.infoCardIconRenderer.trackingParams?g.JO(I.icon.infoCardIconRenderer.trackingParams):null,f.W4());jo(f.player)}},V_7=function(f,I,G,c,P){if(!f.player.X().QS){var p=[];
I.navigationEndpoint&&g.d(I.navigationEndpoint,g.UI)&&g.d(I.navigationEndpoint,g.UI).browseId&&p.push(new ZRZ("openUrl","click",new DPE("/channel/"+g.d(I.navigationEndpoint,g.UI).browseId,"new",!0,!0)));var e=I.watermark.thumbnails[0];c={channel_name:I.channelName,end_ms:I.endTimeMs,image_height:e.height,image_type:1,image_url:e.url,image_width:e.width,is_mobile:!1,session_data:{annotation_id:G,ei:P,feature:"iv",itct:I.trackingParams,src_vid:c},start_ms:I.startTimeMs};if(I.subscribeButton&&g.d(I.subscribeButton,
g.zj)){c.channel_id=g.d(I.subscribeButton,g.zj).channelId;var O;I=g.d(I.subscribeButton,g.zj);e=P=null;I.subscribed?(I.subscriberCountWithUnsubscribeText&&(P=g.WB(I.subscriberCountWithUnsubscribeText)),I.subscriberCountText&&(e=g.WB(I.subscriberCountText))):(I.subscriberCountText&&(P=g.WB(I.subscriberCountText)),I.subscriberCountWithSubscribeText&&(e=g.WB(I.subscriberCountWithSubscribeText)));var N,H=((N=g.d((O=I.signInEndpoint)==null?void 0:O.commandMetadata,g.Bt))==null?void 0:N.url)||"";O={subscribeText:g.WB(I.unsubscribedButtonText),
subscribeCount:P||"",unsubscribeText:g.WB(I.subscribedButtonText),unsubscribeCount:e||"",enabled:I.enabled||!1,classic:!1,subscribed:I.subscribed||!1,feature:"iv",signInUrl:H};c.standalone_subscribe_button_data=O}p=new rd$(G,"branding","branding",p,c);O=q8u(f);f.W.element.appendChild(O);p=new pl(O,tw(f),p);p.e8();g.r(p,p);f.J[G]=p}},z72=function(f,I){return function(){var G=g.R7.apply(0,arguments);
f.PH()||f.WH.push(g.A3.Kp(function(){I.apply(null,g.J(G))}))}},rzJ=function(f){return f==="annotation-editor"||f==="live-dashboard"};
g.z4.prototype.mY=g.tT(45,function(f,I){var G=g.Mf(this.Gl());G&&G.mY(f,I)});
var JJ={},US=null;g.Hw(hJ,g.ax);g.l=hJ.prototype;g.l.getDuration=function(){return this.duration};
g.l.play=function(f){if(f||this.U==0)this.progress=0,this.coords=this.W;else if(this.isPlaying())return!1;zy(this);this.startTime=f=g.tL();this.isPaused()&&(this.startTime-=this.duration*this.progress);this.endTime=this.startTime+this.duration;this.G=this.startTime;this.progress||this.zc();this.jt("play");this.isPaused()&&this.jt("resume");this.U=1;var I=g.cw(this);I in JJ||(JJ[I]=this);NgJ();HR$(this,f);return!0};
g.l.stop=function(f){zy(this);this.U=0;f&&(this.progress=1);xP7(this,this.progress);this.onStop();this.w5()};
g.l.pause=function(){this.isPlaying()&&(zy(this),this.U=-1,this.jt("pause"))};
g.l.eF=function(){this.U==0||this.stop(!1);this.jt("destroy");hJ.UY.eF.call(this)};
g.l.destroy=function(){this.dispose()};
g.l.f4=function(){this.jt("animate")};
g.l.jt=function(f){this.dispatchEvent(new iRw(f,this))};
g.Hw(iRw,g.Qa);g.Hw(MZ,hJ);MZ.prototype.Z=function(){};
MZ.prototype.f4=function(){this.Z();MZ.UY.f4.call(this)};
MZ.prototype.w5=function(){this.Z();MZ.UY.w5.call(this)};
MZ.prototype.zc=function(){this.Z();MZ.UY.zc.call(this)};
g.Hw(SB7,MZ);SB7.prototype.Z=function(){this.element.style.left=Math.round(this.coords[0])+"px";this.element.style.top=Math.round(this.coords[1])+"px"};g.w(kP$,g.V);g.l=kP$.prototype;g.l.listen=function(f,I,G,c){G=(0,g.pU)(G,c||this.W);f=g.jW(f,I,G);this.U.push(f);return f};
g.l.xz=function(f,I,G,c){G=(0,g.pU)(G,c||this.W);f=t4w(f,I,G);this.U.push(f);return f};
g.l.tI=function(f){g.Kt(f);g.$7(this.U,f)};
g.l.removeAll=function(){g.Kt(this.U);this.U.length=0};
g.l.eF=function(){this.removeAll();g.V.prototype.eF.call(this)};g.w($P$,g.w0);g.l=$P$.prototype;g.l.load=function(){g.w0.prototype.load.call(this);if(!Zi(this)){var f=g.jP7(this.player.getVideoData());f?(f=wcu(f,YBr(this)),gf(this,f,!1)):Bg$(this)}};
g.l.unload=function(){gf(this,null);this.G&&(this.G.abort(),this.G=null);g.w0.prototype.unload.call(this)};
g.l.b6=function(f,I){return Zi(this)?f==="loadCustomEndscreenRenderer"?(f=wcu(I,"new"),gf(this,f),!0):null:null};
g.l.getOptions=function(){return Zi(this)?["loadCustomEndscreenRenderer"]:[]};
g.l.gk=function(){if(this.endscreen&&this.endscreen.elements){var f=this.player.getVideoContentRect();if(f&&f.width!==0&&f.height!==0){var I=this.player.getPlayerSize();if(I&&I.width!==0&&I.height!==0){var G=f.width/f.height;var c=0;for(var P=-1,p=0;p<vG2.length;p++){var e=Math.abs(I.width-vG2[p]);if(P===-1||c>=e)P=p,c=e}c=dGU[P];this.Z&&g.o2(this.Z.element,"outline-width",Math.max(I.width,I.height)+"px");for(I=0;I<this.endscreen.elements.length;++I)if(p=this.endscreen.elements[I].id,P=this.W[p],
e=this.J[p],P&&e){var O=e.width*G/e.aspectRatio,N=Math.round(e.width*f.width);p=Math.round(O*f.height);var H=f.left+Math.round(e.left*f.width),x=f.top+Math.round(e.top*f.height);g.F0(P.element,N,p);g.zA(P.element,H,x);g.Sa(P.element,yzV);N>256||p>256?g.Nu(P.element,"ytp-ce-large-round"):N>96||p>96?g.Nu(P.element,"ytp-ce-medium-round"):g.Nu(P.element,"ytp-ce-small-round");g.Sa(P.element,Azy);N=e.left+e.width/2;e=e.top+O/2;g.Nu(P.element,N<=.5&&e<=.5?"ytp-ce-top-left-quad":N>.5&&e<=.5?"ytp-ce-top-right-quad":
N<=.5&&e>.5?"ytp-ce-bottom-left-quad":"ytp-ce-bottom-right-quad");g.Sa(P.element,dGU);g.Nu(P.element,c);(P=g.Tv(document,"div","ytp-ce-expanding-overlay-body",P.element)[0])&&g.o2(P,"height",p+"px")}}}}};
g.l.onCueRangeEnter=function(f){if(this.endscreen)if(f.getId()==="ytp-ce-in-endscreen")vF(this,this.endscreen.impressionUrls),(f=g.hO())&&this.endscreen.visualElement&&g.ON(f,this.endscreen.visualElement),this.U&&(g.Nu(this.U,"ytp-ce-element-show"),this.U.removeAttribute("aria-hidden"),this.player.Wb()?g.Nu(this.U,"ytp-ce-hide-button-lower"):g.it(this.U,"ytp-ce-hide-button-lower"));else{f=f.getId().substring(15);var I=this.W[f],G=this.J[f];g.Nu(I.element,"ytp-ce-element-show");I.element.removeAttribute("aria-hidden");
I=this.player.getRootNode();g.Nu(I,"ytp-ce-shown");vF(this,G.impressionUrls);(I=g.hO())&&g.ON(I,G.visualElement);this.player.X().N&&this.player.Xw("endscreenelementshown",f)}};
g.l.onCueRangeExit=function(f){if(f.getId()==="ytp-ce-in-endscreen")this.U&&(g.it(this.U,"ytp-ce-element-show"),this.U.setAttribute("aria-hidden","true"));else{f=f.getId().substring(15);var I=this.W[f];g.it(I.element,"ytp-ce-element-show");I.element.setAttribute("aria-hidden","true");I=this.player.getRootNode();g.it(I,"ytp-ce-shown");this.player.X().N&&this.player.Xw("endscreenelementhidden",f)}};
g.l.F2H=function(f){var I=this;f.target===window&&(new g.b9(function(){for(var G=g.Y(Object.values(I.W)),c=G.next();!c.done;c=G.next())g.Sa(c.value.element,["ytp-ce-force-expand","ytp-ce-element-hover","ytp-ce-element-shadow-show"])},0)).start()};
g.l.yL=function(f){for(var I=g.Y(Object.values(this.W)),G=I.next();!G.done;G=I.next())G=G.value,f?G.element.setAttribute("hidden",""):G.element.removeAttribute("hidden")};
g.l.QWg=function(f){this.U&&this.player.getRootNode().removeChild(this.U);f&&(g.Nu(f,"ytp-ce-hide-button-container"),this.U=f,g.Vb(this.player,this.U,4))};
var vG2=[346,426,470,506,570,640,853,1280,1920],dGU="ytp-ce-size-346 ytp-ce-size-426 ytp-ce-size-470 ytp-ce-size-506 ytp-ce-size-570 ytp-ce-size-640 ytp-ce-size-853 ytp-ce-size-1280 ytp-ce-size-1920".split(" "),Azy=["ytp-ce-top-left-quad","ytp-ce-top-right-quad","ytp-ce-bottom-left-quad","ytp-ce-bottom-right-quad"],yzV=["ytp-ce-small-round","ytp-ce-medium-round","ytp-ce-large-round"];var FTU={X3s:"current",Fms:"new"};var gzw={CLOSE:"close",mW8:"openUrl",SUBSCRIBE:"subscribe"},RSu={lVH:"click",CLOSE:"close",gFy:"hidden",Viq:"rollOut",kDY:"rollOver",mBq:"shown"};rd$.prototype.hO=function(){var f=vzZ(this,function(I){return I.type==="openUrl"&&I.url!=null});
return f?f.url:null};
var R72={Hr8:"anchored",Yi:"branding",CHANNEL:"channel",NVy:"cta",MMb:"highlightText",Hqw:"label",PLAYLIST:"playlist",POPUP:"popup",Krq:"speech",SUBSCRIBE:"subscribe",MiY:"title",VIDEO:"video",RAs:"website"},gG$={Yi:"branding",sds:"card",Wbg:"drawer",beb:"highlight",UWw:"marker",SEH:"promotion",TEXT:"text",ZM8:"widget"};g.w(XL,g.V);g.l=XL.prototype;g.l.addCueRange=function(f,I,G,c,P){f=new g.H_(f,I,{id:G,namespace:"annotations_module"});c&&this.vH.set(f,c);P&&this.zq.set(f,P);this.context.L.by([f],1)};
g.l.e8=function(){this.context.W.subscribe("resize",this.Um,this)};
g.l.sB=function(){return this.element};
g.l.uo=function(f,I,G,c,P,p){if(this.SF)return!1;p&&(p.stopPropagation(),p.preventDefault());this.navigate(f,G,c,P);return!1};
g.l.show=function(){};
g.l.hide=function(){};
g.l.destroy=function(){g.cr(this.sB())};
g.l.Um=function(){};
g.l.navigate=function(f,I,G,c){var P=this,p=ye(f);if(p){var e=Xcw(p,f.target),O=function(){f.U&&P.context.L.pauseVideo();var N=P.context.videoData.Y$||!1,H=g.On(p||"");N&&H&&(H.v||H.list)?P.context.L.uZ(H.v,I,H.list,!1):g.QV(p||"",e==="current"?"_top":void 0,I)};
e==="new"&&(O(),O=null);eb(this.context.logger,G,O,c);snu(p)||(G=g.hO(),c=I.itct,G&&c&&g.xg(G,g.JO(c)))}};
g.l.eF=function(){this.vH.clear();this.zq.clear();g.V.prototype.eF.call(this)};
g.l.createElement=function(f){f=new g.T(f);g.r(this,f);return f.element};g.w(mP7,XL);g.l=mP7.prototype;g.l.l9=function(){this.WH&&fl(this,this.WH)};
g.l.isAvailable=function(){var f;if(f=!!this.cards.length)(f=this.L.getRootNode())?(f=g.ZY(f),f=173<f.width&&173<f.height):f=!1;return f};
g.l.Um=function(){var f=this.isAvailable();g.gq(this.sB(),f);g.ut(this.context.L.getRootNode(),g.GB.IV_DRAWER_ENABLED,f);jo(this.L)};
g.l.destroy=function(){this.L.mY(!1);try{this.L.getRootNode().removeChild(this.G)}catch(f){}g.xf(this.uH);g.Dp(this.lH);this.jF&&this.jF.dispose();this.B&&this.B.dispose();XL.prototype.destroy.call(this)};
g.l.vt=function(){var f=this;this.context.U.listen(g.nz("iv-drawer-close-button",this.G),"click",this.Lf,this);this.context.U.listen(this.W,"touchend",function(){f.It.start()});
this.context.U.listen(this.W,"scroll",this.SC,this);this.context.W.subscribe("onHideControls",function(){f.hs=!0});
this.context.W.subscribe("onShowControls",function(){f.hs=!1});
this.context.W.subscribe("onVideoAreaChange",function(){f.hs=g.Ol(f.L.getRootNode(),"ytp-autohide")});
this.uH.push(g.Ha("iv-button-shown",this.AC,this));this.uH.push(g.Ha("iv-button-hidden",this.z4,this));czZ(this)};
g.l.findLastIndex=function(f){if(this.cards.length===0)return 0;var I=g.k7(this.cards,function(G){return f.qL.startMs>G.qL.startMs||f.qL.startMs===G.qL.startMs&&f.qL.timestamp>=G.qL.timestamp?!0:!1});
return I===-1?0:I+1};
g.l.Lf=function(){if(this.Z){eb(this.context.logger,cW(this).Z5.close);var f=g.hO();f&&this.Y&&g.xg(f,this.Y);Qe(this)}};
g.l.SC=function(){g.ut(this.G,"iv-drawer-scrolled",this.W.scrollTop>0)};
g.l.AC=function(){var f=g.hO(),I=cW(this);I=I?I.X0:this.X0;f&&I&&g.Na(f,[I])};
g.l.z4=function(){var f=g.hO(),I=cW(this);I=I?I.X0:this.X0;f&&I&&g.HB(f,[I])};
g.l.W6=function(){var f=cW(this);eb(this.context.logger,f.Z5.Z6);var I=g.hO();if(I&&f)if(this.L.j("web_infocards_teaser_show_logging_fix")){var G=[];f.D5&&G.push(f.D5);f.X0&&G.push(f.X0);G.length>0&&g.Na(I,G)}else g.Na(I,[f.D5,f.X0])};
g.l.N1=function(){var f=g.hO(),I=cW(this);f&&I&&g.HB(f,[I.D5])};
g.l.u8=function(f){var I=cW(this),G=g.hO();this.U?f?(f=this.context.logger,eb(f,I.Z5.B8),f.L.sendVideoStatsEngageEvent(4,void 0),G&&I.D5&&g.xg(G,I.D5)):(f=this.context.logger,eb(f,I.Z5.B8),f.L.sendVideoStatsEngageEvent(4,void 0),G&&I.X0&&g.xg(G,I.X0)):(f=this.context.logger,eb(f,I.Z5.B8),f.L.sendVideoStatsEngageEvent(4,void 0),G&&this.X0&&g.xg(G,this.X0))};g.w(PW,XL);PW.prototype.e8=function(){XL.prototype.e8.call(this);H8$(this)};
PW.prototype.show=function(){XL.prototype.show.call(this);var f=g.hO(),I=this.annotation.data;f&&I&&(I=I.session_data)&&g.Na(f,[g.JO(I.itct)])};
PW.prototype.hide=function(){XL.prototype.hide.call(this);var f=g.hO(),I=this.annotation.data;f&&I&&(I=I.session_data)&&g.HB(f,[g.JO(I.itct)])};g.w(pl,PW);
pl.prototype.show=function(){if(!this.isActive){PW.prototype.show.call(this);if(!this.Y){g.Nu(this.sB(),"iv-branding");var f=this.annotation.data;this.W=this.createElement({V:"img",kM:["branding-img","iv-click-target"],D:{"aria-label":"Channel watermark",src:f.image_url,width:f.image_width,height:f.image_height}});g.gq(this.W,!1);var I=this.createElement({V:"button",kM:["branding-img-container","ytp-button"]});I.appendChild(this.W);this.sB().appendChild(I);var G=this.annotation.hO();G&&ES(this,I,
G,this.annotation.id,f.session_data);this.context.L.j("disable_branding_context")||uow(this,f);this.Y=!0}g.gq(this.sB(),!0);this.isActive=!0;if(this.W){try{xGL(this,this.W)}catch(c){}g.Nu(this.context.L.getRootNode(),"ytp-branding-shown");this.context.L.getRootNode().style.setProperty("--branding-image-width",this.W.getAttribute("width")+"px")}}};
pl.prototype.hide=function(){this.isActive&&(PW.prototype.hide.call(this),g.gq(this.sB(),!1),this.isActive=!1,g.it(this.context.L.getRootNode(),"ytp-branding-shown"))};
pl.prototype.destroy=function(){this.U&&(this.U.dispose(),this.U=null);g.it(this.context.L.getRootNode(),"ytp-branding-shown");PW.prototype.destroy.call(this)};g.w(kXw,PW);g.l=kXw.prototype;g.l.show=function(){this.isActive||(PW.prototype.show.call(this),this.T||(we2(this),this.T=!0),g.gq(this.sB(),!0),g.rx(function(){g.it(this.sB(),"iv-promo-inactive")},100,this),this.sB().removeAttribute("aria-hidden"),this.isActive=!0,Lxr(this),$GE(this),Y87(this,this.J))};
g.l.hide=function(){this.isActive&&(g.Nu(this.sB(),"iv-promo-inactive"),this.isActive=!1,this.sB().setAttribute("aria-hidden","true"))};
g.l.uo=function(f,I,G,c,P,p){return this.isCollapsed?!1:PW.prototype.uo.call(this,f,I,G,c,P,p)};
g.l.qx=function(f){this.N=!0;lr7(this,500,f)};
g.l.BN=function(){this.N=!1;BFU(this)};
g.l.Fc=function(f){f.stopPropagation();this.hide()};
g.l.PN=function(f){f.stopPropagation();Lxr(this);this.isCollapsed=!0;g.Nu(this.sB(),"iv-promo-collapsed-no-delay");this.B.start()};
g.l.destroy=function(){this.B.dispose();PW.prototype.destroy.call(this)};g.w(oGJ,g.w0);g.l=oGJ.prototype;g.l.b6=function(f,I){if(!rzJ(this.player.X().playerStyle))return null;switch(f){case "loadCustomAnnotationsXml":return(f=g.C_(I))&&UGu(this,f),!0;case "removeCustomAnnotationById":return I&&this.U&&(fru(this.U,I),jo(this.player)),!0}return null};
g.l.getOptions=function(){return rzJ(this.player.X().playerStyle)?["loadCustomAnnotationsXml","removeCustomAnnotationById"]:[]};
g.l.Np=function(){var f=this.player.X(),I=this.player.getVideoData(),G=f.annotationsLoadPolicy||I.annotationsLoadPolicy;return g.IB(I)||this.player.isMutedByEmbedsMutedAutoplay()?!1:G===1&&!I.GG||f.hs.get(I.videoId)||g.RX(I)||g.Vq(I)?!0:!1};
g.l.W4=function(){if(this.Z){var f=this.player.bH().getVideoContentRect(!0);g.F0(this.Z.element,f.width,f.height);g.zA(this.Z.element,f.left,f.top)}if(this.U){var I=this.player.Lu();f=this.U;I=I.width;g.ut(f.G,"iv-drawer-small",I<=426);g.ut(f.G,"iv-drawer-big",I>=1280)}};
g.l.pj=function(f){j_2(this,f.state);g.X(f.state,2)&&(this.Wb()&&this.zA()&&this.player.getPresentingPlayerType()!==2&&this.qX(!1),this.mY(!1))};
g.l.load=function(){function f(e){var O=I.loadNumber;I.B=null;I.loaded&&I.loadNumber===O&&I.player.getVideoData().videoId===c&&(e=g.w8(e)&&e.responseXML?e.responseXML:null)&&(UGu(I,e),g.Nu(I.player.getRootNode(),"iv-module-loaded"))}
var I=this;g.w0.prototype.load.call(this);j_2(this,this.player.getPlayerStateObject());this.loadNumber++;var G=this.player.getVideoData(),c=G.videoId;g.p4()&&(f=z72(this,f));var P={format:"XML",onFinish:f,onError:function(){I.B=null},
urlParams:{}};G.isPharma&&(P.urlParams.pharma="1");P.method="POST";P.withCredentials=!0;var p=this.player.X().hs.get(c);p&&h77(P,p);p=p&&(p.Lo||p.Em);if(!G.GS||p)G.lH?Kx2(this,G.lH,P):(this.Y=function(){if(!I.N)I.onVideoDataChange(P);var e=I.player.getVideoData();(e==null?0:g.gL(e))&&!I.uH&&Z8E(I,e)},this.player.addEventListener("videodatachange",this.Y));
g.Vb(this.player,this.Z.element,4);this.W4();(p=g.RX(G))&&FxE(this,p);(p=g.Vq(G))&&p.featuredChannel&&V_7(this,p.featuredChannel,p.annotationId||"branding",G.videoId||null,G.eventId||null);this.wT=g.nz("ytp-cards-button",this.player.getRootNode());g.gL(G)&&Z8E(this,G)};
g.l.onVideoDataChange=function(f){var I=this.player.getVideoData();I.lH&&Kx2(this,I.lH,f)};
g.l.unload=function(){this.player.LG("annotations_module");for(var f=g.Y(Object.keys(this.J)),I=f.next();!I.done;I=f.next())this.J[I.value].destroy();this.T=null;this.U&&(this.U.destroy(),this.U=null,jo(this.player));this.N=!1;this.B&&(this.B.abort(),this.B=null);this.uH=!1;this.J={};this.W.hide();g.w0.prototype.unload.call(this);this.Z.detach();this.Y&&(this.player.removeEventListener("videodatachange",this.Y),this.Y=null)};
g.l.L2=function(f){f===this.player.getVideoData().videoId&&(this.loaded?M_J(this):this.load())};
g.l.Wb=function(){var f;return((f=this.U)==null?void 0:f.isAvailable())||this.uH};
g.l.zA=function(){return!!this.U&&this.U.Z};
g.l.qX=function(f,I,G){I=I===void 0?!1:I;this.Wb();this.U&&(f?G?Co(this.U,G,I):Co(this.U,"YOUTUBE_DRAWER_AUTO_OPEN",I):Qe(this.U))};
g.l.mY=function(f,I){this.player.publish(f?"cardsteasershow":"cardsteaserhide",I)};
g.l.eF=function(){this.player.X().hs.unsubscribe("vast_info_card_add",this.L2,this);g.it(this.player.getRootNode(),g.GB.IV_DRAWER_OPEN);for(var f=this.WH,I=g.A3,G=0,c=f.length;G<c;G++)I.Es(f[G]);this.WH.length=0;g.w0.prototype.eF.call(this)};
g.l.createElement=function(f){f=new g.T(f);g.r(this,f);return f.element};g.ly("annotations_module",oGJ);g.ly("creatorendscreen",$P$);})(_yt_player);
